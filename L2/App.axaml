<Application xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:theme="using:Avalonia.Themes.Simple"
             xmlns:ui="using:VKUI"
             xmlns:vkui="using:VKUI.Controls"
             xmlns:labs="using:Avalonia.Labs.Controls"
             xmlns:conv="using:ELOR.Laney.Converters"
             xmlns:ctb="using:ColorTextBlock.Avalonia"
             x:Class="ELOR.Laney.App">
  <Application.Resources>
    <ResourceDictionary>      
      <ResourceDictionary.MergedDictionaries>
        <ResourceInclude Source="/Styles/ChatViewDefaultResources.xaml"/>
        <ResourceInclude Source="/Controls/Attachments/AttachmentsContainer.xaml"/>
        <ResourceInclude Source="/Controls/Attachments/AudioAttachment.xaml"/>
        <ResourceInclude Source="/Controls/Attachments/AudioMessageAttachment.xaml"/>
        <ResourceInclude Source="/Controls/Attachments/BasicAttachment.xaml"/>
        <ResourceInclude Source="/Controls/Attachments/ExtendedAttachment.xaml"/>
        <ResourceInclude Source="/Controls/Attachments/GiftUI.xaml"/>
        <ResourceInclude Source="/Controls/Attachments/StickerPresenter.xaml"/>
        <ResourceInclude Source="/Controls/Attachments/UGCStickerPresenter.xaml"/>
        <ResourceInclude Source="/Controls/BotKeyboardUI.xaml"/>
        <ResourceInclude Source="/Controls/ChatViewItem.xaml"/>
        <ResourceInclude Source="/Controls/CompactMessage.xaml"/>
        <ResourceInclude Source="/Controls/MediaSlider.xaml"/>
        <ResourceInclude Source="/Controls/MessageBubble.xaml"/>
        <ResourceInclude Source="/Controls/MessagesListBox.xaml"/>
        <ResourceInclude Source="/Controls/PostUI.xaml"/>
        <ResourceInclude Source="/Templates/CommonTemplates.axaml"/>
        <ResourceInclude Source="/Templates/ItemTemplates.axaml"/>
        <ResourceInclude Source="avares://ToastNotifications.Avalonia/Toast.xaml"/>
      </ResourceDictionary.MergedDictionaries>

      <!-- Resources below required for Avalonia.Labs.FlipView, because it references to Fluent theme's resources, which not used in Laney! -->
      <ResourceDictionary.ThemeDictionaries>
        <ResourceDictionary x:Key="Default">
          <SolidColorBrush x:Key="SystemControlBackgroundBaseLowBrush" Color="{StaticResource VKWhiteColor}"/>
          <SolidColorBrush x:Key="SystemControlBackgroundChromeWhiteBrush" Color="{StaticResource VKBlue400Color}"/>
          <SolidColorBrush x:Key="SystemControlForegroundTransparentBrush" Color="Transparent"/>
          <SolidColorBrush x:Key="SystemControlHighlightTransparentBrush" Color="Transparent"/>
        </ResourceDictionary>
        <ResourceDictionary x:Key="Dark">
          <SolidColorBrush x:Key="SystemControlBackgroundBaseLowBrush" Color="{StaticResource VKGray500Color}"/>
          <SolidColorBrush x:Key="SystemControlBackgroundChromeWhiteBrush" Color="{StaticResource VKGray900Color}"/>
          <SolidColorBrush x:Key="SystemControlForegroundTransparentBrush" Color="Transparent"/>
          <SolidColorBrush x:Key="SystemControlHighlightTransparentBrush" Color="Transparent"/>
        </ResourceDictionary>
      </ResourceDictionary.ThemeDictionaries>
    </ResourceDictionary>

    <conv:AvatarGradientConverter x:Key="agc"/>
    <conv:CounterConverter x:Key="cc"/>
    <conv:DateTimeDiffConverter x:Key="dtdc"/>
    <conv:DateConverter x:Key="dc"/>
    <conv:TimeConverter x:Key="tc"/>
    <conv:DocumentIconConverter x:Key="dic"/>
    <conv:FileSizeConverter x:Key="fsc"/>
    <conv:InitialsConverter x:Key="ic"/>
    <conv:IsNotZeroConverter x:Key="nzc"/>
    <conv:MessageSenderNameConverter x:Key="msnc"/>
    <conv:MessageInChatConverter x:Key="micc"/>
    <conv:OnlineIconConverter x:Key="oic"/>
    <conv:OwnerNameConverter x:Key="onc"/>
    <conv:ReactionIconConverter x:Key="rec"/>
    <conv:ReadIndicatorConverter x:Key="ric"/>
    <conv:ReadIndicatorVisibilityConverter x:Key="rivc"/>
    <conv:SelectedReactionConverter x:Key="src"/>
    <conv:VKPhotoSizesConverter x:Key="vpsc"/>
    <conv:EqualMultiBindingConverter x:Key="embc"/>

    <DataTemplate x:Key="OnlineIcon">
      <Ellipse Width="12" Height="12" Fill="#8AC176" Stroke="{DynamicResource VKBackgroundContentBrush}" StrokeThickness="2"/>
    </DataTemplate>
    <DataTemplate x:Key="OnlineMobileIcon">
      <Border Width="11" Height="15" Background="{DynamicResource VKBackgroundContentBrush}" BorderBrush="{DynamicResource VKBackgroundContentBrush}" CornerRadius="3">
        <PathIcon Width="7" Height="11" Foreground="#8AC176" Data="M0 1.5C0 .7.7 0 1.5 0h4C6.3 0 7 .7 7 1.5v8c0 .8-.7 1.5-1.5 1.5h-4A1.5 1.5 0 010 9.5v-8zM1 2h5v6H1V2z"/>
      </Border>
    </DataTemplate>

    <!-- Laney logo -->
    <DrawingImage x:Key="Logo">
      <DrawingImage.Drawing>
        <DrawingGroup>
          <DrawingGroup.Transform>
            <TranslateTransform X="0" Y="13.627900123596191" />
          </DrawingGroup.Transform>
          <DrawingGroup Opacity="1" ClipGeometry="M1075.18 612.367C1075.21 612.248 1075.23 612.132 1075.25 612.014C1040.05 876.237 813.818 1080 540 1080H184.935C116.378 1080 82.0987 1080 56.4865 1065.45C38.9652 1055.51 24.4707 1041 14.5472 1023.46C0 997.849 0 963.57 0 895.014V540C0 251.428 226.334 15.7337 511.164 0.61903L514.955 0.464273C515.31 0.445835 515.662 0.427028 516.017 0.408207C518.634 0.269054 521.27 0.128965 523.905 0.128965L528.29 0H541.058C545.235 0 549.414 0.0773786 553.594 0.232135H555.914C559.293 0.335307 562.62 0.464273 565.974 0.61903L570.822 0.876958L578.278 1.34123L583.744 1.75392L590.503 2.37294C594.475 2.75985 598.447 3.17252 602.392 3.61102L606.623 4.10108L614.491 5.15858L618.075 5.57126L626.355 6.83511L628.727 7.22201C638.546 8.83837 648.279 10.7298 657.925 12.8965C658.305 12.9991 658.684 13.1022 659.063 13.2058C899.966 67.4199 1080 282.672 1080 540C1080 564.202 1078.39 588.379 1075.18 612.367Z">
            <GeometryDrawing Brush="#FFE85719" Geometry="F1 M1080,1080z M0,0z M728.604,110.583C755.85,133.032 884.533,202.538 873.333,331.099 852.445,570.769 441.712,661.314 479.416,812.824 498.185,888.245 617.933,935.309 706.766,939.914 865.665,948.239 1037.31,826.531 1083.93,631.29 1088.12,605.461 1090.22,579.429 1090.22,553.37 1090.22,276.129 885.25,16.1828 539.929,-13.6279 611.954,34.4005 675.224,66.5732 728.604,110.583z" />
            <GeometryDrawing Brush="#FFFFBF43" Geometry="F0 M1080,1080z M0,0z M892.356,303.218C938.798,390.872 963.722,489.316 963.722,590.33 963.722,735.504 913.27,868.898 828.939,973.932 797.738,983.78 765.957,987.983 734.675,986.011 646.907,980.493 528.627,924.129 510.048,833.802 492.501,748.27 573.255,678.993 665.753,599.643 758.694,519.913 863.495,430.008 892.356,303.218z" />
            <GeometryDrawing Brush="#FFBE75E0" Geometry="F1 M1080,1080z M0,0z M571.836,807.197C586.937,880.837 657.732,935.425 734.419,964.677 776.163,895.158 802.96,817.702 813.092,737.247 823.225,656.795 816.478,575.112 793.275,497.413 669.273,605.363 548.674,694.422 571.836,807.197z" />
            <DrawingGroup Opacity="1">
              <GeometryDrawing Brush="#FF1963AC" Geometry="F0 M1080,1080z M0,0z M537.771,1080L540.003,1080C813.821,1080 1040.05,876.238 1075.26,612.016 1039.64,793.726 907.913,906.983 785.964,899.296 717.846,895.016 626.048,851.269 611.629,781.165 598.01,714.783 660.684,661.019 732.473,599.433 765.81,570.835 801.113,540.548 831.657,506.53L537.771,506.53 537.771,1080z" />
            </DrawingGroup>
            <DrawingGroup Opacity="1">
              <GeometryDrawing Brush="#FFC4C4C4" Geometry="F1 M1080,1080z M0,0z M785.963,899.294C779.846,898.91,773.536,898.207,767.112,897.197L304.588,845.702 372.646,628.14C372.646,339.568,226.335,15.7337,511.165,0.61903L514.956,0.464273C517.922,0.309514,520.914,0.128964,523.907,0.128964L528.291,0 537.422,0 541.059,0C545.237,0,549.416,0.0773786,553.595,0.232135L555.916,0.232135C559.294,0.335306,562.621,0.464273,565.975,0.61903L570.824,0.876958 578.279,1.34123 583.746,1.75392 590.505,2.37294C594.477,2.75985,598.449,3.17252,602.394,3.61102L606.625,4.10108 614.493,5.15858 618.076,5.57126 626.357,6.83511 628.729,7.22201C638.547,8.83837 648.281,10.7298 657.927,12.8964 719.958,29.6618 773.402,58.7819 814.335,99.7152 835.228,120.582 922.277,213.9 913.688,333.399 897.671,556.173 582.715,640.23 611.628,781.163 624.753,844.973 701.979,886.943 767.112,897.197L785.963,899.294z" />
            </DrawingGroup>
            <GeometryDrawing Geometry="F1 M1080,1080z M0,0z M1075.25,612.014C1039.63,793.724 907.91,906.981 785.961,899.294 717.843,895.014 672.345,863.921 657.925,793.817 629.013,652.884 897.67,556.173 913.687,333.399 922.275,213.9 835.226,120.582 814.333,99.7152 773.401,58.7819 719.956,29.6618 657.925,12.8964 648.279,10.7298 638.546,8.83837 628.727,7.22201L626.355,6.83511 618.075,5.57126 614.491,5.15858 606.623,4.10108 602.392,3.61102C598.447,3.17252,594.475,2.75985,590.503,2.37294L583.745,1.75392 578.278,1.34123 570.822,0.876958 565.974,0.61903C562.62,0.464273,559.293,0.335307,555.914,0.232135L553.594,0.232135C549.414,0.0773786,545.235,0,541.058,0L537.421,0C534.352,0,531.309,0,528.29,0L523.905,0.128964C520.913,0.128964,517.92,0.309514,514.955,0.464273L511.164,0.61903C226.334,15.7337,0,251.428,0,540L0,895.014C0,963.57 0,997.849 14.5472,1023.46 24.4707,1040.99 38.9652,1055.51 56.4865,1065.45 82.0988,1080 116.378,1080 184.935,1080L540,1080C813.818,1080,1040.05,876.237,1075.25,612.014z">
              <GeometryDrawing.Brush>
                <LinearGradientBrush StartPoint="538.297,759" EndPoint="538.297,-117.539" SpreadMethod="Pad" Opacity="1">
                  <GradientStop Color="#FF3D52F7" Offset="0" />
                  <GradientStop Color="#FF3C4EF7" Offset="0.0001" />
                  <GradientStop Color="#FF5CA1FE" Offset="0.911458" />
                  <GradientStop Color="#FF5B9DFE" Offset="1" />
                </LinearGradientBrush>
              </GeometryDrawing.Brush>
            </GeometryDrawing>
          </DrawingGroup>
        </DrawingGroup>
      </DrawingImage.Drawing>
    </DrawingImage>

    <!-- Laney text -->
    <DataTemplate x:Key="LText">
      <Viewbox Stretch="Uniform">
        <Canvas Width="737" Height="330">
          <Path Fill="{DynamicResource VKTextPrimaryBrush}" Data="F1 M519.487 273.314L476.124 273.314Q476.124 284.463 481.405 289.627Q486.745 294.732 494.08 294.732Q499.596 294.732 503.762 292.209Q507.987 289.627 510.744 284.58L518.607 288.57Q515.439 295.025 509.043 299.074Q502.705 303.064 493.434 303.064Q481.464 303.064 473.777 295.142Q466.149 287.221 466.149 271.847Q466.149 258.175 473.894 249.197Q481.64 240.161 493.728 240.161Q505.991 240.161 512.739 247.613Q519.487 255.007 519.487 268.268L519.487 273.314ZM509.629 265.275Q509.629 257.471 505.346 253.011Q501.062 248.493 493.552 248.493Q486.276 248.493 481.64 253.305Q477.063 258.117 476.183 265.275L509.629 265.275ZM317.744 273.314L274.381 273.314Q274.381 284.463 279.662 289.627Q285.002 294.732 292.337 294.732Q297.853 294.732 302.019 292.209Q306.243 289.627 309.001 284.58L316.864 288.57Q313.696 295.025 307.3 299.074Q300.962 303.064 291.691 303.064Q279.721 303.064 272.034 295.142Q264.406 287.221 264.406 271.847Q264.406 258.175 272.151 249.197Q279.897 240.161 291.985 240.161Q304.248 240.161 310.996 247.613Q317.744 255.007 317.744 268.268L317.744 273.314ZM307.886 265.275Q307.886 257.471 303.603 253.011Q299.319 248.493 291.809 248.493Q284.533 248.493 279.897 253.305Q275.32 258.117 274.44 265.275L307.886 265.275ZM563.907 250.246Q562.498 249.6 560.855 249.189Q559.271 248.779 557.276 248.779Q550.821 248.779 546.772 254.94Q542.782 261.101 542.782 270.666L542.782 301.296L533.159 301.296L533.159 241.209L542.782 241.209L542.782 252.182L543.017 252.182Q545.071 246.549 549.296 243.38Q553.52 240.153 558.743 240.153Q561.149 240.153 563.085 240.564Q565.021 240.916 567.486 242.089L563.907 250.246ZM451.71 299.485Q451.71 314.448 444.199 322.193Q436.689 329.939 423.486 329.939Q414.919 329.939 407.878 326.77Q400.836 323.602 395.966 317.264L403.535 311.514Q407.408 316.795 412.278 319.201Q417.207 321.665 423.603 321.665Q432.464 321.665 437.275 316.678Q442.087 311.69 442.087 301.304L442.087 292.502L441.852 292.502Q438.508 297.666 433.813 300.365Q429.178 303.064 421.667 303.064Q409.168 303.064 402.244 295.025Q395.379 286.986 395.379 273.021Q395.379 257.823 403.125 249.021Q410.929 240.161 423.603 240.161Q429.647 240.161 434.341 242.391Q439.036 244.621 441.852 248.493L442.087 248.493L442.087 241.569L451.71 241.569L451.71 299.485ZM442.087 274.488L442.087 265.627Q442.087 258.469 437.099 253.481Q432.112 248.493 424.307 248.493Q415.564 248.493 410.401 254.713Q405.237 260.874 405.237 272.551Q405.237 282.82 409.99 288.805Q414.802 294.732 422.899 294.732Q431.818 294.732 436.923 288.981Q442.087 283.231 442.087 274.488L442.087 274.488ZM381.296 301.656L371.672 301.656L371.672 265.98Q371.672 257.119 368.269 252.836Q364.924 248.493 358.118 248.493Q350.49 248.493 345.737 253.892Q341.042 259.232 341.042 267.388L341.042 301.656L331.419 301.656L331.419 241.569L341.042 241.569L341.042 250.136L341.277 250.136Q344.68 245.149 349.609 242.684Q354.538 240.161 360.993 240.161Q370.851 240.161 376.073 246.557Q381.296 252.894 381.296 264.923L381.296 301.656ZM213.825 289.861L222.04 286.282Q224.035 290.742 227.556 292.737Q231.135 294.732 236.299 294.732Q241.228 294.732 244.455 292.267Q247.741 289.803 247.741 285.167Q247.741 281.646 244.866 279.123Q242.049 276.541 235.947 275.192Q224.563 272.669 220.456 268.268Q216.407 263.867 216.407 257.882Q216.407 249.432 222.275 244.797Q228.201 240.161 236.416 240.161Q243.047 240.161 248.386 242.919Q253.785 245.677 256.425 251.427L248.562 255.065Q246.802 251.721 243.868 250.136Q240.934 248.493 236.181 248.493Q231.604 248.493 228.495 250.723Q225.385 252.953 225.385 256.884Q225.385 260.581 227.908 262.576Q230.431 264.512 237.942 266.214Q247.741 268.385 252.318 272.903Q256.895 277.363 256.895 284.58Q256.895 293.382 250.792 298.252Q244.748 303.064 236.299 303.064Q227.556 303.064 221.981 299.485Q216.465 295.847 213.825 289.861L213.825 289.861ZM162.775 289.861L170.99 286.282Q172.985 290.742 176.506 292.737Q180.085 294.732 185.249 294.732Q190.178 294.732 193.405 292.267Q196.691 289.803 196.691 285.167Q196.691 281.646 193.816 279.123Q190.999 276.541 184.897 275.192Q173.513 272.669 169.406 268.268Q165.357 263.867 165.357 257.882Q165.357 249.432 171.225 244.797Q177.151 240.161 185.366 240.161Q191.997 240.161 197.336 242.919Q202.735 245.677 205.375 251.427L197.512 255.065Q195.752 251.721 192.818 250.136Q189.884 248.493 185.131 248.493Q180.554 248.493 177.445 250.723Q174.335 252.953 174.335 256.884Q174.335 260.581 176.858 262.576Q179.381 264.512 186.892 266.214Q196.691 268.385 201.268 272.903Q205.845 277.363 205.845 284.58Q205.845 293.382 199.742 298.252Q193.698 303.064 185.249 303.064Q176.506 303.064 170.931 299.485Q165.416 295.847 162.775 289.861ZM152.74 273.314L109.377 273.314Q109.377 284.463 114.658 289.627Q119.998 294.732 127.333 294.732Q132.849 294.732 137.015 292.209Q141.24 289.627 143.997 284.58L151.86 288.57Q148.692 295.025 142.296 299.074Q135.958 303.064 126.687 303.064Q114.717 303.064 107.03 295.142Q99.402 287.221 99.402 271.847Q99.402 258.175 107.148 249.197Q114.893 240.161 126.981 240.161Q139.244 240.161 145.992 247.613Q152.74 255.007 152.74 268.268L152.74 273.314ZM142.883 265.275Q142.883 257.471 138.599 253.012Q134.316 248.493 126.805 248.493Q119.529 248.493 114.893 253.305Q110.316 258.117 109.436 265.275L142.883 265.275ZM85.3184 301.656L75.6952 301.656L75.6952 267.153Q75.6952 257.295 72.5852 252.894Q69.5339 248.493 62.2578 248.493Q56.0966 248.493 51.7544 254.068Q47.4709 259.642 47.4709 267.388L47.4709 301.656L37.8476 301.656L37.8476 265.98Q37.8476 257.236 34.4442 252.894Q31.0409 248.493 24.1755 248.493Q17.8382 248.493 13.7307 253.774Q9.62326 258.997 9.62326 267.388L9.62326 301.656L0 301.656L0 241.569L9.62326 241.569L9.62326 250.136L9.85798 250.136Q13.0853 245.149 17.7209 242.684Q22.4152 240.161 28.5177 240.161Q34.5616 240.161 39.0212 243.33Q43.5394 246.498 45.1824 251.662Q48.5857 245.912 53.6321 243.036Q58.7371 240.161 65.4851 240.161Q75.4018 240.161 80.3308 246.264Q85.3184 252.366 85.3184 264.63L85.3184 301.656ZM737.019 57.656L670.081 230.343Q662.628 249.609 649.972 259.453Q637.456 269.437 619.456 269.437Q610.738 269.437 603.003 267.468Q595.41 265.64 588.519 261.562L602.722 238.5Q607.081 241.031 610.597 242.015Q614.113 243.14 617.91 243.14Q624.519 243.14 629.16 239.765Q633.941 236.531 637.738 227.812L648.285 203.343L591.753 57.656L627.472 57.656L660.519 153.14Q662.066 157.5 662.91 160.875Q663.753 164.25 664.878 169.171L665.581 169.171Q666.566 164.25 667.55 161.015Q668.675 157.781 670.081 153.421L703.409 57.656L737.019 57.656ZM579.098 137.672L479.676 137.672Q480.098 158.484 490.926 169.031Q501.895 179.437 517.785 179.437Q529.035 179.437 537.754 174.234Q546.473 168.89 552.52 158.484L577.692 172.125Q567.848 187.875 552.52 196.453Q537.332 205.031 516.66 205.031Q484.879 205.031 465.754 185.906Q446.629 166.781 446.629 130.922Q446.629 96.7498 466.176 75.5154Q485.863 54.281 515.395 54.281Q545.77 54.281 562.363 72.4216Q579.098 90.5623 579.098 125.015L579.098 137.672ZM547.457 114.328Q547.457 97.4529 539.02 88.1716Q530.582 78.8904 515.957 78.8904Q500.629 78.8904 491.067 89.156Q481.504 99.281 479.535 114.328L547.457 114.328ZM416.109 201.656L383.484 201.656L383.484 117.422Q383.484 99.5623 376.312 90.281Q369.281 80.8591 355.077 80.8591Q339.749 80.8591 330.046 91.8279Q320.484 102.797 320.484 119.531L320.484 201.656L287.718 201.656L287.718 57.656L320.484 57.656L320.484 77.2029L321.046 77.2029Q328.64 66.2341 340.734 60.3279Q352.968 54.281 367.171 54.281Q391.077 54.281 403.593 69.4685Q416.109 84.656 416.109 112.922L416.109 201.656ZM247.218 201.656L215.578 201.656L215.578 183.797L215.015 183.797Q207.421 194.203 196.453 199.687Q185.484 205.031 171.984 205.031Q152.015 205.031 139.218 193.64Q126.562 182.25 126.562 163.828Q126.562 144 139.218 132.047Q152.015 119.953 175.781 117.281L215.718 112.781L215.718 105.89Q215.718 92.531 208.265 85.9216Q200.812 79.1716 188.718 79.1716Q176.765 79.1716 168.609 84.5154Q160.453 89.8591 155.109 99.8435L130.64 87.3279Q137.953 72.8435 153.703 63.5622Q169.453 54.281 191.109 54.281Q218.39 54.281 232.734 68.6247Q247.218 82.8279 247.218 109.968L247.218 201.656ZM215.718 143.156L215.718 135.281L180.984 139.078Q169.031 140.344 163.546 145.687Q158.062 151.031 158.062 160.031Q158.062 169.172 164.249 174.937Q170.578 180.562 180.562 180.562Q196.312 180.562 206.015 170.015Q215.718 159.328 215.718 143.156ZM111.656 201.656L-1.64063e-07 201.656L-1.64063e-07 1.89094e-05L33.4687 1.89094e-05L33.4687 172.687L111.656 172.687L111.656 201.656Z" />
        </Canvas>
      </Viewbox>
    </DataTemplate>

    <!-- Laney text without "messenger" word-->
    <DataTemplate x:Key="LText2">
      <Viewbox Stretch="Uniform">
        <Canvas Width="737" Height="270">
          <Path Fill="{DynamicResource VKTextPrimaryBrush}" Data="M737.019 57.656L670.081 230.343Q662.628 249.609 649.972 259.453Q637.456 269.437 619.456 269.437Q610.738 269.437 603.003 267.468Q595.41 265.64 588.519 261.562L602.722 238.5Q607.081 241.031 610.597 242.015Q614.113 243.14 617.91 243.14Q624.519 243.14 629.16 239.765Q633.941 236.531 637.738 227.812L648.285 203.343L591.753 57.656L627.472 57.656L660.519 153.14Q662.066 157.5 662.91 160.875Q663.753 164.25 664.878 169.171L665.581 169.171Q666.566 164.25 667.55 161.015Q668.675 157.781 670.081 153.421L703.409 57.656L737.019 57.656ZM579.098 137.672L479.676 137.672Q480.098 158.484 490.926 169.031Q501.895 179.437 517.785 179.437Q529.035 179.437 537.754 174.234Q546.473 168.89 552.52 158.484L577.692 172.125Q567.848 187.875 552.52 196.453Q537.332 205.031 516.66 205.031Q484.879 205.031 465.754 185.906Q446.629 166.781 446.629 130.922Q446.629 96.7498 466.176 75.5154Q485.863 54.281 515.395 54.281Q545.77 54.281 562.363 72.4216Q579.098 90.5623 579.098 125.015L579.098 137.672ZM547.457 114.328Q547.457 97.4529 539.02 88.1716Q530.582 78.8904 515.957 78.8904Q500.629 78.8904 491.067 89.156Q481.504 99.281 479.535 114.328L547.457 114.328ZM416.109 201.656L383.484 201.656L383.484 117.422Q383.484 99.5623 376.312 90.281Q369.281 80.8591 355.077 80.8591Q339.749 80.8591 330.046 91.8279Q320.484 102.797 320.484 119.531L320.484 201.656L287.718 201.656L287.718 57.656L320.484 57.656L320.484 77.2029L321.046 77.2029Q328.64 66.2341 340.734 60.3279Q352.968 54.281 367.171 54.281Q391.077 54.281 403.593 69.4685Q416.109 84.656 416.109 112.922L416.109 201.656ZM247.218 201.656L215.578 201.656L215.578 183.797L215.015 183.797Q207.421 194.203 196.453 199.687Q185.484 205.031 171.984 205.031Q152.015 205.031 139.218 193.64Q126.562 182.25 126.562 163.828Q126.562 144 139.218 132.047Q152.015 119.953 175.781 117.281L215.718 112.781L215.718 105.89Q215.718 92.531 208.265 85.9216Q200.812 79.1716 188.718 79.1716Q176.765 79.1716 168.609 84.5154Q160.453 89.8591 155.109 99.8435L130.64 87.3279Q137.953 72.8435 153.703 63.5622Q169.453 54.281 191.109 54.281Q218.39 54.281 232.734 68.6247Q247.218 82.8279 247.218 109.968L247.218 201.656ZM215.718 143.156L215.718 135.281L180.984 139.078Q169.031 140.344 163.546 145.687Q158.062 151.031 158.062 160.031Q158.062 169.172 164.249 174.937Q170.578 180.562 180.562 180.562Q196.312 180.562 206.015 170.015Q215.718 159.328 215.718 143.156ZM111.656 201.656L-1.64063e-07 201.656L-1.64063e-07 1.89094e-05L33.4687 1.89094e-05L33.4687 172.687L111.656 172.687L111.656 201.656Z" />
        </Canvas>
      </Viewbox>
    </DataTemplate>

    <!-- Laney logo (with text) -->
    <DataTemplate x:Key="LogoFull">
      <Grid x:Name="Logo" ColumnDefinitions="Auto Auto" HorizontalAlignment="Center">
        <Image Margin="12,0,0,0" Width="72" Height="72" Source="{StaticResource Logo}"/>
        <ContentPresenter Grid.Column="1" Margin="24,0,12,0" Height="50" VerticalAlignment="Center" ContentTemplate="{StaticResource LText}"/>
      </Grid>
    </DataTemplate>
    
  </Application.Resources>
  <Application.Styles>
    <theme:SimpleTheme/>
    <labs:ControlThemes/>
    <ui:VKUITheme/>
    
    <StyleInclude Source="avares://Laney/Styles/ListBoxStyles.axaml"/>

    <Style Selector="vkui|Avatar">
      <Setter Property="Foreground" Value="White"/>
    </Style>

    <Style Selector="ctb|CHyperlink">
      <Setter Property="Foreground" Value="{DynamicResource VKTextLinkBrush}"/>
    </Style>

    <Style Selector="ctb|CRun">
      <Setter Property="LetterSpacing" Value="{StaticResource TextDefaultLetterSpacing}"/>
    </Style>

    <Style Selector="Button.Hyperlink">
      <Setter Property="Background" Value="Transparent"/>
      <Setter Property="Padding" Value="0"/>
      <Setter Property="FontSize" Value="15"/>
      <Setter Property="MinHeight" Value="0"/>
    </Style>

    <!-- Fix margin for first and last element in ListBox -->
    <Style Selector="ListBox.FixMargin ListBoxItem">
      <Setter Property="Padding" Value="0"/>
    </Style>
    <Style Selector="ListBox.FixMargin ListBoxItem:nth-child(1), ListBox.FixMargin ListBoxItem:nth-last-child(1)">
      <Setter Property="Margin" Value="0,6"/>
    </Style>
    <Style Selector="ListBox.FixMargin ListBoxItem:nth-child(1)">
      <Setter Property="Margin" Value="0,6,0,0"/>
    </Style>
    <Style Selector="ListBox.FixMargin ListBoxItem:nth-last-child(1)">
      <Setter Property="Margin" Value="0,0,0,6"/>
    </Style>

    <Style Selector="ListBox[SelectionMode=Multiple,Toggle].FixMargin ListBoxItem">
      <Setter Property="Padding" Value="0,0,12,0"/>
    </Style>
    
    <!-- Unread counter -->
    <Style Selector="Border.Unmuted">
      <Setter Property="Background" Value="{DynamicResource VKCounterPrimaryBackgroundBrush}"/>
    </Style>
    <Style Selector="Border.Unmuted > TextBlock">
      <Setter Property="Foreground" Value="{DynamicResource VKCounterPrimaryTextBrush}"/>
    </Style>

    <Style Selector="Border.Muted">
      <Setter Property="Background" Value="{DynamicResource VKCounterSecondaryBackgroundBrush}"/>
    </Style>
    <Style Selector="Border.Muted > TextBlock">
      <Setter Property="Foreground" Value="{DynamicResource VKCounterSecondaryTextBrush}"/>
    </Style>

    <!-- Cell in Button (in ItemsControl, for example) -->
    <Style Selector="Button.Cell">
      <Setter Property="Padding" Value="0"/>
      <Setter Property="HorizontalAlignment" Value="Stretch"/>
      <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
    </Style>
    
    <!-- Debug -->
    <Style Selector="Border.Debug TextBlock">
      <Setter Property="LineHeight" Value="16"/>
      <Setter Property="FontSize" Value="12"/>
      <Setter Property="FontFamily" Value="Consolas,Andale Mono,DejaVu Sans Mono,Monospace"/>
    </Style>

    <Style Selector="TextBlock.Mono">
      <Setter Property="FontFamily" Value="Consolas,Andale Mono,DejaVu Sans Mono,Monospace"/>
    </Style>
    <Style Selector="TextBox.Mono">
      <Setter Property="FontFamily" Value="Consolas,Andale Mono,DejaVu Sans Mono,Monospace"/>
    </Style>
  </Application.Styles>
</Application>